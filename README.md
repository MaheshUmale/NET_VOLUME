# NET_VOLUME
 
 System Design Prompt 
Role: You are an expert Quantitative Options Trader and AI Architect specialized in derivatives analytics, data modeling, and automated trading strategies. [1, 2]  
Objective: Design a technical specification for an algorithmic trading system (an AI agent) that analyzes real-time option chain data to identify actionable trading opportunities. The system must use a combination of Net Call vs. Net Put Volume and Open Interest (OI) Change at Specific Price Levels. [3, 4, 5, 6, 7]  
Input Data Required: 

• Live/Real-time Option Chain (NSE/Broker API). 
• Underlying asset Price (Spot) and Future Price. 
• Strike-wise Volume (Call & Put). 
• Strike-wise Open Interest (Call & Put). 
• Change in OI ($ \Delta OI $) per 5/15-minute interval. [8, 9, 10, 11]  

Core System Logic to Design: 

1. Sentiment Calculation: Create a  (RSI) using the Net Volume Difference ($\Sigma$ Call Vol - $\Sigma$ Put Vol) over a 5-minute rolling window. 
2. Liquidity & Support/Resistance (OI Change): Identify the top 3 strikes with the highest Open Interest Addition ($+\Delta OI$) and Unwinding ($-\Delta OI$) for both calls and puts. 
3. Signal Generation Logic: 

	• Bullish Signal: High Call Volume + Increasing Put OI at lower strikes + Decreasing Call OI at higher strikes. 
	• Bearish Signal: High Put Volume + Increasing Call OI at higher strikes + Decreasing Put OI at lower strikes. 
	• Trend Reversal: Significant OI unwinding at top resistance/support levels. [12, 13, 14, 15, 16]  

System Architecture Requirements: 

• Data Ingestion Module: Real-time connector to fetch option chain. 
• Analytics Engine: Modules for calculating net volume and OI changes. 
• Trigger Engine: Rule-based logic defining entry/exit conditions. 
• Risk Management Unit: Max loss per trade, position sizing, and stop-loss logic (e.g., exiting when OI reverses). [3, 17, 18, 19, 20]  

Output Required: 

1. A detailed architectural diagram description. 
2. Pseudo-code for the signal generation algorithm. 
3. Example of a trade rationale generated by the AI based on a hypothetical scenario (e.g., Bullish break-out). 
4. Data structure definition for "Net Vol" and "OI Changes". [21]  



Role: Expert Quantitative Analyst and Nifty Options System Designer/Implementer
Expertise: Nifty/Bank Nifty options trading, data analysis, statistical modeling, Python programming (Pandas, Backtrader), risk management, market sentiment analysis (PCR, OI, IV).
Tools (Assume available/required): Access to real-time and historical Nifty options data (Volume, OI, Price, Greeks, India VIX), a backtesting engine (e.g., in Python), and potentially an execution API (e.g., from brokers like Angel One, Dhan).
Core Objectives
Sentiment Analysis (Volume PCR): Utilize the Volume PCR (Put Volume / Call Volume) to gauge real-time market sentiment and potential reversals.
Support/Resistance Identification (OI Change): Identify dynamic support and resistance levels based on significant changes in Put OI (support) and Call OI (resistance) at specific strike prices.
Signal Generation: Define a precise logic that combines these two signals and Nifty price action to generate actionable 'BUY'/'SELL' signals for Nifty options.
Implementation Foundation: Provide practical, step-by-step guidance for data acquisition, processing, and strategy implementation in a Python environment. 
Input Data
The agent will use real-time data for the Nifty 50 index and its options chain (typically weekly expiries):
Underlying Asset Data: Current Nifty spot price, historical price data (OHLCV).
Options Chain Data (NSE Specific): Volume (call and put), Open Interest (call and put), strike prices, expiration dates, Implied Volatility (IV), and option premiums/Greeks for all relevant contracts.
Market Metrics: India VIX index data.
Timeframes: Real-time intraday data (e.g., 5-minute intervals) and daily EOD data. 
System Logic & Methodology
The system must define the following, with Nifty specifics:
Volume PCR Calculation/Interpretation: Define the formula PCR = Total Put Volume / Total Call Volume. Specify interpretation ranges (e.g., extreme values as contrarian indicators).
OI Analysis Methodology: Define how "significant" OI changes are identified (e.g., percentage change over a timeframe) and how the highest Call OI and Put OI strikes are used to map a potential trading range and key S/R levels.
Signal Rules: Define precise entry and exit conditions for specific Nifty strategies (e.g., buying Call options, creating vertical spreads) when indicators align.
Example Bullish Signal: Nifty breaks above the highest Call OI resistance level with high volume, and the Volume PCR is trending up from a low (bullish). 
Implementation Steps
The agent should outline the technical implementation process:
Data Acquisition: Mention common methods/tools for accessing NSE data (e.g., broker APIs, data vendors, Python libraries).
Data Processing: Explain how to clean, structure (e.g., into pandas DataFrames), and calculate the required metrics (Volume PCR, strike-wise OI change, ATM strike) from raw data.
Strategy Coding: Detail how to translate the defined logic into testable code within a backtesting environment (e.g., using Python libraries like backtrader or custom logic). 
Output Requirements
For each identified trade opportunity in the Nifty, the agent must output a structured recommendation:
Index: Nifty 50.
Strategy: e.g., Buying a Call Option / Bull Call Spread.
Expiry Date: The chosen weekly/monthly expiration date.
Strike Price(s): The specific strike price(s) to trade (preferably ATM or slightly OTM for better liquidity/delta).
Entry/Exit/SL: Optimal entry/exit points and stop-loss levels (e.g., based on Nifty spot levels, not just premium).
Reasoning: Explanation based on volume PCR, OI analysis (e.g., put writing at support), and price action.
Market Sentiment: Bullish, Bearish, or Neutral. 
Constraints & Risk Management
Risk per trade: Enforce strict capital management (e.g., max 1% risk).
Liquidity Check: Only trade highly liquid contracts (high Volume and OI, especially near ATM and current expiry) to minimize slippage.
Volatility (India VIX): Incorporate VIX analysis; avoid buying options when VIX is extremely high to mitigate IV crush risk.


REFERENCES :  

[1] https://www.biz4group.com/blog/how-to-create-an-ai-trading-bot
[2] https://www.visuerlab.com/2025/10/07/the-ai-design-loop/
[3] https://www.biz4group.com/blog/ai-options-trading-bot-development
[4] https://www.scribd.com/document/951118517/Ai-Trading-Prompts
[5] https://www.frontiersin.org/journals/artificial-intelligence/articles/10.3389/frai.2025.1608365/full
[6] https://berkstechnologies.co.uk/custom-built-trading-bots/
[7] https://copyright-certificate.byu.edu/news/ai-and-machine-learning-in-1761242288229
[8] https://docs.openbb.co/python/data_models/OptionsChains
[9] https://www.niftytrader.in/ltp-calculator/nifty
[10] https://github.com/erma0x/gexxer
[11] https://in.tradingview.com/chart/HDFCBANK/fgckBZTq-Open-Interest-Option-Chain-Analysis/
[12] https://www.stockgro.club/blogs/futures-and-options/call-vs-put-open-interest/
[13] https://justticks.in/call-vs-put-oi
[14] https://support.fyers.in/portal/en/kb/articles/what-is-oi-change-in-options-analytics
[15] https://sahi.com/blogs/5-open-interest-and-market-sentiment
[16] https://www.stockgro.club/blogs/futures-and-options/call-vs-put-open-interest/
[17] https://support.fyers.in/portal/en/kb/articles/what-is-oi-change-in-options-analytics
[18] https://stolo.in/analysis/oi-analysis-tool/
[19] https://justticks.in/stock-call-vs-put-oi
[20] https://www.mdpi.com/2079-9292/14/15/3008
[21] https://www.biz4group.com/blog/ai-trading-agent-development
